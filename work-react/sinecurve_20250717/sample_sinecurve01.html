<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>ReactCDN + SVG: y = sin(x) グラフ描画</title>
    <!-- React + ReactDOM CDN -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      body {
        background: black;
        color: white;
        font-family: sans-serif;
        padding: 1em;
      }
      svg {
        background: white;
        border: 1px solid gray;
      }
    </style>
  </head>
  <body>
    <h1>ReactCDN + SVG: y = sin(x)</h1>
    <div id="root"></div>

    <script type="text/babel">
      function Graph() {
        const width = 600;
        const height = 300;
        const step = 1; // x の刻み
        const scaleX = 2; // 拡大倍率（横）
        const scaleY = 80; // 拡大倍率（縦）

        // 原点の位置（画面中央）
        const originX = 0;
        const originY = height / 2;

        // sin(x) の点列を生成（0〜2π）
        const points = [];
        for (let x = 0; x <= width; x += step) {
          const xVal = (x - width / 2) / scaleX; // -π〜π に変換
          const yVal = Math.sin(xVal);
          const svgX = x;
          const svgY = originY - yVal * scaleY;
          points.push(`${svgX},${svgY}`);
        }

        return (
          <svg width={width} height={height}>
            {/* x軸 */}
            <line x1="0" y1={originY} x2={width} y2={originY} stroke="gray" strokeWidth="1" />
            {/* y軸 */}
            <line x1={width / 2} y1="0" x2={width / 2} y2={height} stroke="gray" strokeWidth="1" />

            {/* sinグラフ */}
            <polyline
              fill="none"
              stroke="blue"
              strokeWidth="2"
              points={points.join(" ")}
            />

            {/* ラベル */}
            <text x="10" y="20" fontSize="16" fill="black">y = sin(x)</text>
          </svg>
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(<Graph />);
    </script>
  </body>
</html>
